{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 27,
  "summary": "4-hole ocarina tablature music writing app with traditional filled/unfilled circle notation, sheet music layout with bars and timing, piano keyboard for note input, full editing capabilities, lyrics support, ocarina sound playback (synthetic), visual ocarina illustration showing fingering (4 holes: left index4 and middle3, right index2 and middle1), configurable octave and fingering mappings, and ability to save songs with title and description.",
  "architectural_notes": [
    "Uses traditional 4-hole pendant ocarina fingering system",
    "Synthetic audio generation for ocarina playback sounds",
    "Piano keyboard as primary note input method",
    "Traditional circle notation (filled/unfilled) for tablature display",
    "Configurable fingering system allowing users to customize hole mappings per note",
    "Configurable octave range for the instrument",
    "4-hole configuration: left index (hole 4), left middle (hole 3), right index (hole 2), right middle (hole 1)",
    "Extended note range includes C6 as the highest note (one octave higher)",
    "C6 uses fingering pattern with all holes uncovered",
    "Sheet music should wrap vertically to new lines like the tablature instead of extending horizontally"
  ],
  "known_issues": [],
  "isFixRequest": false,
  "existing_features": [
    {
      "id": "feature-implement-traditional-filled-unfilled-circle-notation-display-for-4-hole-ocarina-tablature-where-filled-circles-represent-closed-holes-and-unfilled-circles-represent-open-holes",
      "title": "Implement traditional filled/unfilled circle notation display for 4-hole ocarina tablature, where filled circles represent closed holes and unfilled circles represent open holes",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-create-standard-sheet-music-layout-with-bars-bar-lines-time-signatures-and-musical-symbols-for-displaying-composed-music",
      "title": "Create standard sheet music layout with bars, bar lines, time signatures, and musical symbols for displaying composed music",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-build-interactive-piano-keyboard-interface-for-note-input-supporting-notes-from-c5-and-up-to-cover-the-4-hole-ocarina-range-with-sharps",
      "title": "Build interactive piano keyboard interface for note input supporting notes from C5 and up to cover the 4-hole ocarina range with sharps",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-full-music-editing-capabilities-including-adding-notes-deleting-notes-modifying-note-durations-and-changing-note-pitches",
      "title": "Implement full music editing capabilities including adding notes, deleting notes, modifying note durations, and changing note pitches",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-add-lyrics-support-that-allows-users-to-add-text-beneath-the-musical-notes-synchronized-with-the-timing-of-the-notes",
      "title": "Add lyrics support that allows users to add text beneath the musical notes, synchronized with the timing of the notes",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-synthetic-ocarina-sound-playback-that-plays-the-composition-with-synthesized-audio-resembling-ocarina-timbre",
      "title": "Implement synthetic ocarina sound playback that plays the composition with synthesized audio resembling ocarina timbre",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-create-visual-ocarina-illustration-that-dynamically-highlights-which-holes-to-cover-based-on-the-currently-selected-or-playing-note-using-traditional-4-hole-pendant-ocarina-fingering-system",
      "title": "Create visual ocarina illustration that dynamically highlights which holes to cover based on the currently selected or playing note, using traditional 4-hole pendant ocarina fingering system",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-save-functionality-that-allows-users-to-save-compositions-with-a-title-and-description-persisting-them-to-the-backend",
      "title": "Implement save functionality that allows users to save compositions with a title and description, persisting them to the backend",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    },
    {
      "id": "feature-apply-a-creative-and-coherent-visual-design-theme-with-distinct-colors-typography-and-layout-styling-that-evokes-a-musical-and-artistic-feel-avoiding-blue-and-purple-color-schemes",
      "title": "Apply a creative and coherent visual design theme with distinct colors, typography, and layout styling that evokes a musical and artistic feel, avoiding blue and purple color schemes",
      "reqIds": [
        "REQ-9"
      ],
      "version": 1
    },
    {
      "id": "feature-modify-the-ocarinaillustration-component-to-arrange-the-4-holes-horizontally-with-2-holes-on-the-left-side-representing-the-left-hand-and-2-holes-on-the-right-side-representing-the-right-hand-maintaining-the-existing-fingering-mappings-and-note-system",
      "title": "Modify the OcarinaIllustration component to arrange the 4 holes horizontally with 2 holes on the left side representing the left hand and 2 holes on the right side representing the right hand, maintaining the existing fingering mappings and note system",
      "reqIds": [
        "REQ-10"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinatablature-component-to-display-the-fingering-patterns-using-the-new-horizontal-hole-layout-with-left-right-hand-grouping",
      "title": "Update the OcarinaTablature component to display the fingering patterns using the new horizontal hole layout with left/right hand grouping",
      "reqIds": [
        "REQ-11"
      ],
      "version": 1
    },
    {
      "id": "feature-modify-the-ocarinaillustration-component-to-display-5-holes-in-a-specific-2d-arrangement-air-intake-hole-centered-at-the-top-left-index-finger-hole-to-the-left-of-center-in-the-middle-row-right-index-finger-hole-to-the-right-of-center-in-the-middle-row-left-middle-finger-hole-to-the-left-in-the-bottom-row-and-right-middle-finger-hole-to-the-right-in-the-bottom-row",
      "title": "Modify the OcarinaIllustration component to display 5 holes in a specific 2D arrangement: air intake hole centered at the top, left index finger hole to the left of center in the middle row, right index finger hole to the right of center in the middle row, left middle finger hole to the left in the bottom row, and right middle finger hole to the right in the bottom row",
      "reqIds": [
        "REQ-12"
      ],
      "version": 1
    },
    {
      "id": "feature-create-a-settings-interface-component-that-allows-users-to-configure-the-octave-range-for-the-ocarina-e-g-c5-c6-c4-c5-etc",
      "title": "Create a settings interface component that allows users to configure the octave range for the ocarina (e.g., C5-C6, C4-C5, etc.)",
      "reqIds": [
        "REQ-13"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-fingering-configuration-editor-in-the-settings-interface-where-users-can-customize-which-holes-air-intake-left-index-right-index-left-middle-right-middle-should-be-open-or-closed-for-each-note-in-the-selected-octave",
      "title": "Add a fingering configuration editor in the settings interface where users can customize which holes (air intake, left index, right index, left middle, right middle) should be open or closed for each note in the selected octave",
      "reqIds": [
        "REQ-14"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinanotemapper-utility-to-support-5-holes-air-intake-left-index-right-index-left-middle-right-middle-and-use-the-user-configured-fingering-patterns-from-settings-instead-of-hardcoded-mappings",
      "title": "Update the ocarinaNoteMapper utility to support 5 holes (air intake, left index, right index, left middle, right middle) and use the user-configured fingering patterns from settings instead of hardcoded mappings",
      "reqIds": [
        "REQ-15"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinatablature-component-to-display-fingering-patterns-using-the-new-5-hole-layout-with-air-intake-at-top-index-finger-holes-in-middle-row-and-middle-finger-holes-in-bottom-row",
      "title": "Update the OcarinaTablature component to display fingering patterns using the new 5-hole layout with air intake at top, index finger holes in middle row, and middle finger holes in bottom row",
      "reqIds": [
        "REQ-16"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-music-types-definition-to-reflect-that-the-key-note-lowest-note-in-the-octave-should-have-all-holes-closed-by-default-in-the-initial-fingering-configuration",
      "title": "Update the music types definition to reflect that the key note (lowest note in the octave) should have all holes closed by default in the initial fingering configuration",
      "reqIds": [
        "REQ-17"
      ],
      "version": 1
    },
    {
      "id": "feature-remove-the-air-intake-hole-from-the-ocarinaillustration-component-keeping-only-4-finger-holes-left-index-hole-4-left-middle-hole-3-right-index-hole-2-and-right-middle-hole-1-in-the-existing-horizontal-arrangement",
      "title": "Remove the air intake hole from the OcarinaIllustration component, keeping only 4 finger holes: left index (hole 4), left middle (hole 3), right index (hole 2), and right middle (hole 1) in the existing horizontal arrangement",
      "reqIds": [
        "REQ-18"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-music-types-definition-in-frontend-src-types-music-ts-to-remove-air-intake-from-the-fingeringpattern-and-ocarinafingeringconfig-types-supporting-only-4-holes-leftindex-leftmiddle-rightindex-rightmiddle",
      "title": "Update the music types definition in frontend/src/types/music.ts to remove air intake from the FingeringPattern and OcarinaFingeringConfig types, supporting only 4 holes (leftIndex, leftMiddle, rightIndex, rightMiddle)",
      "reqIds": [
        "REQ-19"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-defaultfingeringpatterns-utility-in-frontend-src-utils-defaultfingeringpatterns-ts-to-generate-default-fingering-patterns-using-only-4-holes-where-the-lowest-note-has-all-4-holes-closed-and-holes-progressively-open-as-notes-ascend",
      "title": "Update the defaultFingeringPatterns utility in frontend/src/utils/defaultFingeringPatterns.ts to generate default fingering patterns using only 4 holes, where the lowest note has all 4 holes closed and holes progressively open as notes ascend",
      "reqIds": [
        "REQ-20"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinanotemapper-utility-in-frontend-src-utils-ocarinanotemapper-ts-to-map-notes-to-4-hole-fingering-patterns-removing-all-air-intake-references",
      "title": "Update the ocarinaNoteMapper utility in frontend/src/utils/ocarinaNoteMapper.ts to map notes to 4-hole fingering patterns, removing all air intake references",
      "reqIds": [
        "REQ-21"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinatablature-component-in-frontend-src-components-ocarinatablature-tsx-to-display-fingering-patterns-with-only-4-holes-arranged-horizontally-removing-air-intake-visualization",
      "title": "Update the OcarinaTablature component in frontend/src/components/OcarinaTablature.tsx to display fingering patterns with only 4 holes arranged horizontally, removing air intake visualization",
      "reqIds": [
        "REQ-22"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-fingeringconfigeditor-component-in-frontend-src-components-fingeringconfigeditor-tsx-to-display-only-4-columns-for-the-finger-holes-left-index-left-middle-right-index-right-middle-removing-the-air-intake-column",
      "title": "Update the FingeringConfigEditor component in frontend/src/components/FingeringConfigEditor.tsx to display only 4 columns for the finger holes (left index, left middle, right index, right middle), removing the air intake column",
      "reqIds": [
        "REQ-23"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-usecomposition-hook-in-frontend-src-hooks-usecomposition-ts-to-initialize-and-manage-fingering-configurations-with-4-hole-patterns-only-removing-air-intake-from-state-and-update-logic",
      "title": "Update the useComposition hook in frontend/src/hooks/useComposition.ts to initialize and manage fingering configurations with 4-hole patterns only, removing air intake from state and update logic",
      "reqIds": [
        "REQ-24"
      ],
      "version": 1
    },
    {
      "id": "feature-modify-the-ocarinaillustration-component-in-frontend-src-components-ocarinaillustration-tsx-to-arrange-the-4-holes-in-a-layered-depth-configuration-where-hole-1-right-middle-is-visually-positioned-behind-hole-2-right-index-and-hole-3-left-middle-is-visually-positioned-behind-hole-4-left-index-creating-a-sense-of-depth-with-the-rear-holes-appearing-smaller-or-partially-obscured",
      "title": "Modify the OcarinaIllustration component in frontend/src/components/OcarinaIllustration.tsx to arrange the 4 holes in a layered depth configuration where hole 1 (right middle) is visually positioned behind hole 2 (right index), and hole 3 (left middle) is visually positioned behind hole 4 (left index), creating a sense of depth with the rear holes appearing smaller or partially obscured",
      "reqIds": [
        "REQ-25"
      ],
      "version": 1
    },
    {
      "id": "feature-center-the-layered-hole-arrangement-hole-pair-1-2-and-hole-pair-3-4-in-the-middle-of-the-ocarina-illustration-svg-canvas",
      "title": "Center the layered hole arrangement (hole pair 1-2 and hole pair 3-4) in the middle of the ocarina illustration SVG canvas",
      "reqIds": [
        "REQ-26"
      ],
      "version": 1
    },
    {
      "id": "feature-change-the-ocarina-body-shape-in-the-ocarinaillustration-component-from-the-current-design-to-a-round-circular-shape-that-represents-a-pendant-ocarina-body",
      "title": "Change the ocarina body shape in the OcarinaIllustration component from the current design to a round/circular shape that represents a pendant ocarina body",
      "reqIds": [
        "REQ-27"
      ],
      "version": 1
    },
    {
      "id": "feature-modify-the-ocarinaillustration-component-in-frontend-src-components-ocarinaillustration-tsx-to-arrange-the-4-holes-in-a-square-layout-centered-in-the-middle-of-the-round-ocarina-body-with-each-hole-positioned-at-a-corner-of-the-square",
      "title": "Modify the OcarinaIllustration component in frontend/src/components/OcarinaIllustration.tsx to arrange the 4 holes in a square layout centered in the middle of the round ocarina body, with each hole positioned at a corner of the square",
      "reqIds": [
        "REQ-28"
      ],
      "version": 1
    },
    {
      "id": "feature-implement-size-gradation-for-the-4-holes-where-hole-1-right-middle-is-the-smallest-hole-2-right-index-is-slightly-bigger-than-hole-1-and-holes-3-left-middle-and-4-left-index-are-both-bigger-than-holes-1-and-2",
      "title": "Implement size gradation for the 4 holes where hole 1 (right middle) is the smallest, hole 2 (right index) is slightly bigger than hole 1, and holes 3 (left middle) and 4 (left index) are both bigger than holes 1 and 2",
      "reqIds": [
        "REQ-29"
      ],
      "version": 1
    },
    {
      "id": "feature-add-visible-numbering-labels-1-2-3-4-to-each-hole-in-the-ocarinaillustration-component-so-that-users-can-easily-identify-which-hole-corresponds-to-which-finger-position",
      "title": "Add visible numbering labels (1, 2, 3, 4) to each hole in the OcarinaIllustration component so that users can easily identify which hole corresponds to which finger position",
      "reqIds": [
        "REQ-30"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinatablature-component-in-frontend-src-components-ocarinatablature-tsx-to-display-fingering-patterns-using-the-exact-same-square-arrangement-as-the-ocarinaillustration-component",
      "title": "Update the OcarinaTablature component in frontend/src/components/OcarinaTablature.tsx to display fingering patterns using the exact same square arrangement as the OcarinaIllustration component",
      "reqIds": [
        "REQ-31"
      ],
      "version": 1
    },
    {
      "id": "feature-rotate-the-visual-position-of-all-4-holes-by-90-degrees-clockwise-in-the-square-layout-of-the-ocarinaillustration-component-in-frontend-src-components-ocarinaillustration-tsx-so-that-hole-1-moves-to-where-hole-2-currently-is-hole-2-moves-to-where-hole-3-is-hole-3-moves-to-where-hole-4-is-and-hole-4-moves-to-where-hole-1-is",
      "title": "Rotate the visual position of all 4 holes by 90 degrees clockwise in the square layout of the OcarinaIllustration component in frontend/src/components/OcarinaIllustration.tsx, so that hole 1 moves to where hole 2 currently is, hole 2 moves to where hole 3 is, hole 3 moves to where hole 4 is, and hole 4 moves to where hole 1 is",
      "reqIds": [
        "REQ-32"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinatablature-component-in-frontend-src-components-ocarinatablature-tsx-to-display-fingering-patterns-with-the-rotated-hole-positions-matching-the-90-clockwise-rotation-applied-to-the-ocarinaillustration",
      "title": "Update the OcarinaTablature component in frontend/src/components/OcarinaTablature.tsx to display fingering patterns with the rotated hole positions matching the 90° clockwise rotation applied to the OcarinaIllustration",
      "reqIds": [
        "REQ-34"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-pianokeyboard-component-in-frontend-src-components-pianokeyboard-tsx-to-extend-the-highest-playable-note-to-c6-adding-one-additional-key-above-the-current-highest-note-in-the-configured-octave-range",
      "title": "Update the PianoKeyboard component in frontend/src/components/PianoKeyboard.tsx to extend the highest playable note to C6, adding one additional key above the current highest note in the configured octave range",
      "reqIds": [
        "REQ-35"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinafingeringconfig-type-and-defaultfingeringpatterns-utility-in-frontend-src-utils-defaultfingeringpatterns-ts-to-support-c6-as-the-highest-note-with-a-fingering-pattern-where-all-four-holes-leftindex-leftmiddle-rightindex-rightmiddle-are-uncovered-set-to-false",
      "title": "Update the OcarinaFingeringConfig type and defaultFingeringPatterns utility in frontend/src/utils/defaultFingeringPatterns.ts to support C6 as the highest note with a fingering pattern where all four holes (leftIndex, leftMiddle, rightIndex, rightMiddle) are uncovered (set to false)",
      "reqIds": [
        "REQ-36"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinanotemapper-utility-in-frontend-src-utils-ocarinanotemapper-ts-to-include-c6-in-the-note-to-frequency-mapping-and-fingering-pattern-lookup-ensuring-it-returns-the-all-holes-uncovered-pattern-for-c6",
      "title": "Update the ocarinaNoteMapper utility in frontend/src/utils/ocarinaNoteMapper.ts to include C6 in the note-to-frequency mapping and fingering pattern lookup, ensuring it returns the all-holes-uncovered pattern for C6",
      "reqIds": [
        "REQ-37"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-usecomposition-hook-in-frontend-src-hooks-usecomposition-ts-to-initialize-fingering-configurations-that-include-c6-with-the-all-holes-uncovered-pattern-when-the-octave-range-is-set-to-include-c6",
      "title": "Update the useComposition hook in frontend/src/hooks/useComposition.ts to initialize fingering configurations that include C6 with the all-holes-uncovered pattern when the octave range is set to include C6",
      "reqIds": [
        "REQ-40"
      ],
      "version": 1
    },
    {
      "id": "feature-add-the-ability-to-edit-the-song-s-name-and-description-after-the-composition-has-been-created-allowing-users-to-update-metadata-without-recreating-the-composition",
      "title": "Add the ability to edit the song's name and description after the composition has been created, allowing users to update metadata without recreating the composition",
      "reqIds": [
        "REQ-41"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinatablature-component-in-frontend-src-components-ocarinatablature-tsx-to-make-the-horizontal-tablature-layout-responsive-wrapping-to-new-lines-when-it-reaches-the-screen-edge-instead-of-overflowing-or-requiring-horizontal-scrolling",
      "title": "Update the OcarinaTablature component in frontend/src/components/OcarinaTablature.tsx to make the horizontal tablature layout responsive, wrapping to new lines when it reaches the screen edge instead of overflowing or requiring horizontal scrolling",
      "reqIds": [
        "REQ-42"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-sheetmusic-component-in-frontend-src-components-sheetmusic-tsx-to-implement-vertical-wrapping-behavior-similar-to-ocarinatablature-where-the-sheet-music-wraps-to-new-lines-when-it-reaches-the-screen-edge-instead-of-extending-horizontally-to-the-right",
      "title": "Update the SheetMusic component in frontend/src/components/SheetMusic.tsx to implement vertical wrapping behavior similar to OcarinaTablature, where the sheet music wraps to new lines when it reaches the screen edge instead of extending horizontally to the right",
      "reqIds": [
        "REQ-43"
      ],
      "version": 1
    },
    {
      "id": "feature-reorganize-the-musiceditor-component-in-frontend-src-components-musiceditor-tsx-to-display-components-in-the-following-order-from-top-to-bottom-ocarina-illustration-ocarinaillustration-piano-keyboard-pianokeyboard-ocarina-tablature-ocarinatablature-sheet-music-sheetmusic-and-lyrics-editor-lyricseditor-at-the-bottom",
      "title": "Reorganize the MusicEditor component in frontend/src/components/MusicEditor.tsx to display components in the following order from top to bottom: ocarina illustration (OcarinaIllustration), piano keyboard (PianoKeyboard), ocarina tablature (OcarinaTablature), sheet music (SheetMusic), and lyrics editor (LyricsEditor) at the bottom",
      "reqIds": [
        "REQ-44"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-musiceditor-component-in-frontend-src-components-musiceditor-tsx-to-reposition-the-playbackcontrols-component-between-the-ocarinaillustration-and-pianokeyboard-components-in-the-vertical-layout-order",
      "title": "Update the MusicEditor component in frontend/src/components/MusicEditor.tsx to reposition the PlaybackControls component between the OcarinaIllustration and PianoKeyboard components in the vertical layout order",
      "reqIds": [
        "REQ-45"
      ],
      "version": 1
    },
    {
      "id": "feature-add-react-query-hooks-in-frontend-src-hooks-usequeries-ts-for-the-three-new-backend-functions-usegetfingeringdefaults-query-usesetfingeringdefaults-mutation-and-useresetfingeringdefaults-mutation-these-hooks-must-work-without-requiring-internet-identity-login",
      "title": "Add React Query hooks in frontend/src/hooks/useQueries.ts for the three new backend functions: useGetFingeringDefaults (query), useSetFingeringDefaults (mutation), and useResetFingeringDefaults (mutation). These hooks must work without requiring Internet Identity login.",
      "reqIds": [
        "REQ-47"
      ],
      "version": 1
    },
    {
      "id": "feature-add-a-set-as-global-default-button-and-a-reset-to-factory-defaults-button-to-the-ocarinasettingsdialog-component-frontend-src-components-ocarinasettingsdialog-tsx-when-set-as-global-default-is-clicked-call-the-usesetfingeringdefaults-mutation-with-the-current-fingering-configuration-when-reset-to-factory-defaults-is-clicked-call-useresetfingeringdefaults-show-loading-and-success-error-feedback-inline",
      "title": "Add a 'Set as Global Default' button and a 'Reset to Factory Defaults' button to the OcarinaSettingsDialog component (frontend/src/components/OcarinaSettingsDialog.tsx). When 'Set as Global Default' is clicked, call the useSetFingeringDefaults mutation with the current fingering configuration. When 'Reset to Factory Defaults' is clicked, call useResetFingeringDefaults. Show loading and success/error feedback inline.",
      "reqIds": [
        "REQ-48"
      ],
      "version": 1
    },
    {
      "id": "feature-on-app-load-fetch-the-global-fingering-defaults-from-the-backend-using-usegetfingeringdefaults-and-use-them-to-seed-the-initial-fingering-configuration-in-the-usecomposition-hook-frontend-src-hooks-usecomposition-ts-so-that-every-new-session-starts-with-the-community-saved-defaults-instead-of-the-hardcoded-factory-patterns",
      "title": "On app load, fetch the global fingering defaults from the backend using useGetFingeringDefaults and use them to seed the initial fingering configuration in the useComposition hook (frontend/src/hooks/useComposition.ts), so that every new session starts with the community-saved defaults instead of the hardcoded factory patterns.",
      "reqIds": [
        "REQ-49"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-save-composition-flow-in-frontend-src-components-savecompositiondialog-tsx-and-frontend-src-hooks-usequeries-ts-so-that-saving-a-composition-does-not-require-internet-identity-login-the-save-action-must-be-available-to-all-users-regardless-of-authentication-state-after-a-successful-save-display-the-generated-composition-id-to-the-user-so-they-can-retrieve-their-composition-later",
      "title": "Update the save composition flow in frontend/src/components/SaveCompositionDialog.tsx and frontend/src/hooks/useQueries.ts so that saving a composition does not require Internet Identity login. The save action must be available to all users regardless of authentication state. After a successful save, display the generated composition ID to the user so they can retrieve their composition later.",
      "reqIds": [
        "REQ-51"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-load-composition-flow-in-frontend-src-components-loadcompositiondialog-tsx-and-frontend-src-hooks-usequeries-ts-so-that-listing-and-loading-compositions-does-not-require-internet-identity-login-any-visitor-to-the-app-can-browse-and-load-any-saved-composition",
      "title": "Update the load composition flow in frontend/src/components/LoadCompositionDialog.tsx and frontend/src/hooks/useQueries.ts so that listing and loading compositions does not require Internet Identity login. Any visitor to the app can browse and load any saved composition.",
      "reqIds": [
        "REQ-52"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-pianokeyboard-component-in-frontend-src-components-pianokeyboard-tsx-to-span-multiple-octaves-e-g-c3-through-c7-rather-than-being-locked-to-a-single-ocarina-octave-the-keyboard-should-display-all-notes-across-the-full-multi-octave-range-and-allow-note-input-from-any-octave-shown",
      "title": "Update the PianoKeyboard component in frontend/src/components/PianoKeyboard.tsx to span multiple octaves (e.g., C3 through C7) rather than being locked to a single ocarina octave. The keyboard should display all notes across the full multi-octave range and allow note input from any octave shown.",
      "reqIds": [
        "REQ-53"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinasettingsdialog-component-in-frontend-src-components-ocarinasettingsdialog-tsx-and-the-octave-range-settings-to-allow-users-to-select-the-ocarina-s-base-octave-e-g-c3-c4-c4-c5-c5-c6-c6-c7-the-selected-octave-range-should-determine-which-notes-are-valid-for-the-ocarina-which-fingering-patterns-apply-and-which-portion-of-the-piano-keyboard-is-highlighted-as-the-active-ocarina-range",
      "title": "Update the OcarinaSettingsDialog component in frontend/src/components/OcarinaSettingsDialog.tsx and the octave range settings to allow users to select the ocarina's base octave (e.g., C3-C4, C4-C5, C5-C6, C6-C7). The selected octave range should determine which notes are valid for the ocarina, which fingering patterns apply, and which portion of the piano keyboard is highlighted as the active ocarina range.",
      "reqIds": [
        "REQ-54"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-defaultfingeringpatterns-utility-in-frontend-src-utils-defaultfingeringpatterns-ts-to-generate-default-4-hole-fingering-patterns-for-any-arbitrary-octave-range-e-g-c3-c4-c4-c5-c5-c6-c6-c7-not-just-the-previously-hardcoded-c5-c6-range-the-utility-must-accept-the-base-octave-as-a-parameter-and-produce-the-same-progressive-hole-opening-chromatic-sequence-for-whatever-octave-is-selected",
      "title": "Update the defaultFingeringPatterns utility in frontend/src/utils/defaultFingeringPatterns.ts to generate default 4-hole fingering patterns for any arbitrary octave range (e.g., C3-C4, C4-C5, C5-C6, C6-C7), not just the previously hardcoded C5-C6 range. The utility must accept the base octave as a parameter and produce the same progressive hole-opening chromatic sequence for whatever octave is selected.",
      "reqIds": [
        "REQ-55"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ocarinanotemapper-utility-in-frontend-src-utils-ocarinanotemapper-ts-to-correctly-resolve-note-frequencies-and-fingering-patterns-for-notes-in-any-supported-octave-c3-through-c7-not-just-the-c5-c6-range-the-note-to-frequency-mapping-must-cover-all-octaves-in-the-extended-range",
      "title": "Update the ocarinaNoteMapper utility in frontend/src/utils/ocarinaNoteMapper.ts to correctly resolve note frequencies and fingering patterns for notes in any supported octave (C3 through C7), not just the C5-C6 range. The note-to-frequency mapping must cover all octaves in the extended range.",
      "reqIds": [
        "REQ-56"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-usecomposition-hook-in-frontend-src-hooks-usecomposition-ts-to-initialize-and-manage-fingering-configurations-for-whatever-octave-range-is-selected-regenerating-the-default-fingering-patterns-whenever-the-octave-range-changes-in-settings-when-the-user-changes-the-base-octave-the-hook-should-produce-a-fresh-fingering-config-for-the-new-range-while-preserving-other-composition-state-notes-tempo-etc",
      "title": "Update the useComposition hook in frontend/src/hooks/useComposition.ts to initialize and manage fingering configurations for whatever octave range is selected, regenerating the default fingering patterns whenever the octave range changes in settings. When the user changes the base octave, the hook should produce a fresh fingering config for the new range while preserving other composition state (notes, tempo, etc.).",
      "reqIds": [
        "REQ-57"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-pianokeyboard-component-in-frontend-src-components-pianokeyboard-tsx-to-visually-highlight-or-mark-the-keys-that-belong-to-the-currently-active-ocarina-octave-range-as-configured-in-settings-so-users-can-easily-identify-which-portion-of-the-full-keyboard-corresponds-to-their-ocarina-s-range",
      "title": "Update the PianoKeyboard component in frontend/src/components/PianoKeyboard.tsx to visually highlight or mark the keys that belong to the currently active ocarina octave range (as configured in settings), so users can easily identify which portion of the full keyboard corresponds to their ocarina's range.",
      "reqIds": [
        "REQ-58"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Traditional filled/unfilled circle notation for ocarina holes",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Standard sheet music layout with bars, timing, and musical symbols",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Piano keyboard interface for note input",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Full editing capabilities (add, delete, modify notes)",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Lyrics support integrated with the music",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Synthetic ocarina sound playback as you compose",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Visual ocarina illustration that highlights which holes to play",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Save songs with title and description",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-9",
      "summary": "Update ocarina hole layout: air intake centered with left/right index holes in front and left/right middle holes behind in parallel",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-10",
      "summary": "Add settings interface to configure octave and customize which holes open/close for each note",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-11",
      "summary": "Remove air intake hole and revert to 4-hole configuration with left index4, left middle3, right index2, right middle1",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-12",
      "summary": "Update ocarina illustration to display hole 1 behind hole 2 and hole 3 behind hole 4 in center, with round ocarina body shape",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-13",
      "summary": "Rearrange ocarina holes in a square layout with holes at corners: hole 1 smallest, hole 2 slightly bigger, holes 3 and 4 bigger than 1 and 2, with visible numbering",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-14",
      "summary": "Update tablature to match square hole layout, rotate holes 90° clockwise (hole 1 to hole 2 position, etc.), and update fingering patterns to follow",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-17",
      "summary": "Update the fingering pattern mappings in the defaultFingeringPatterns utility in frontend/src/utils/defaultFingeringPatterns.ts to follow the new rotated hole positions, ensuring that note-to-hole mappings rotate along with the visual layout change",
      "reqIds": [
        "REQ-33"
      ],
      "status": "pending"
    },
    {
      "id": "AR-18",
      "summary": "Extend piano keyboard and ocarina range to include C6 as the highest note with all holes uncovered fingering pattern",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-22",
      "summary": "Update the OcarinaIllustration component in frontend/src/components/OcarinaIllustration.tsx to correctly visualize the all-holes-uncovered state when C6 is the current note, showing all four holes as open/unfilled circles",
      "reqIds": [
        "REQ-38"
      ],
      "status": "pending"
    },
    {
      "id": "AR-23",
      "summary": "Update the OcarinaTablature component in frontend/src/components/OcarinaTablature.tsx to display the fingering pattern for C6 with all four holes shown as open/unfilled circles in the tablature notation",
      "reqIds": [
        "REQ-39"
      ],
      "status": "pending"
    },
    {
      "id": "AR-24",
      "summary": "Add ability to edit song name and description after creation",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-25",
      "summary": "Make tablature wrap to new lines when it reaches the screen edge while keeping horizontal layout",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-26",
      "summary": "Update sheet music to build vertically like ocarina tablature with wrapping instead of extending horizontally to the right",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-27",
      "summary": "Reorganize app layout from top to bottom: ocarina model, piano keyboard, ocarina tablature, sheet music, and lyrics at the bottom",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-28",
      "summary": "Move playback button bar to position between ocarina illustration and piano keyboard",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-29",
      "summary": "Allow users to set and save fingering defaults configuration that persists for all users of the app",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-30",
      "summary": "Enable any user (without requiring login/account) to create, save, and retrieve their own music compositions on the app",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-31",
      "summary": "Extend the backend actor in backend/main.mo to store a single shared fingering defaults configuration (OcarinaFingeringConfig) that any user can read and any authenticated or anonymous caller can update. Expose three new functions: getFingeringDefaults() returning the current global config, setFingeringDefaults(config) overwriting it, and resetFingeringDefaults() restoring factory defaults. The config must persist across canister upgrades via stable storage.",
      "reqIds": [
        "REQ-46"
      ],
      "status": "pending"
    },
    {
      "id": "AR-35",
      "summary": "Extend the backend actor in backend/main.mo to allow saving and retrieving compositions without requiring authentication. Each composition must be stored with a unique auto-generated ID. Expose: saveComposition(title, description, midiData) returning the generated ID, getComposition(id) returning the composition, and listCompositions() returning all compositions. Anonymous callers (no Internet Identity) must be able to call all three functions.",
      "reqIds": [
        "REQ-50"
      ],
      "status": "pending"
    },
    {
      "id": "AR-36",
      "summary": "Extend piano keyboard range to span multiple octaves (not just the single ocarina octave), and add settings to configure the ocarina's base octave so users can play lower or higher octave ocarinas",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Ocarina Composer",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}